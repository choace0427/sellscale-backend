"""Added configuration type to stack ranked message generation configuration

Revision ID: 2c746c112f48
Revises: 2d4abc5031b3
Create Date: 2023-02-03 13:52:33.171422

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql


# revision identifiers, used by Alembic.
revision = "2c746c112f48"
down_revision = "2d4abc5031b3"
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    configurationtype = postgresql.ENUM(
        "STRICT",
        "DEFAULT",
        name="configurationtype",
    )
    configurationtype.create(op.get_bind())
    op.add_column(
        "stack_ranked_message_generation_configuration",
        sa.Column(
            "configuration_type",
            postgresql.ENUM(
                "STRICT", "DEFAULT", name="configurationtype", create_type=False
            ),
            nullable=False,
        ),
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column(
        "stack_ranked_message_generation_configuration", "configuration_type"
    )
    # ### end Alembic commands ###
