"""Add prospect_uploads_history_id into ProspectUploads

Revision ID: a9aa4bb37191
Revises: adfd7a2422aa
Create Date: 2024-04-03 14:45:16.186480

"""

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = "a9aa4bb37191"
down_revision = "adfd7a2422aa"
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column(
        "prospect_uploads",
        sa.Column("prospect_upload_history_id", sa.Integer(), nullable=True),
    )
    op.create_foreign_key(
        "prospect_upload_history_id_fkey_prospect_uploads",
        "prospect_uploads",
        "prospect_upload_history",
        ["prospect_upload_history_id"],
        ["id"],
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(
        "prospect_upload_history_id_fkey_prospect_uploads",
        "prospect_uploads",
        type_="foreignkey",
    )
    op.drop_column("prospect_uploads", "prospect_upload_history_id")
    # ### end Alembic commands ###
