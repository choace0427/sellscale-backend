""" Add outreach status to prospect email

- UNKNOWN: used for null values in the future
- NOT_SENT: email has not been sent
- SENT_OUTREACH: email has been sent
- EMAIL_OPENED: email has been opened
- ACCEPTED: email has been accepted (clicked on link)
- ACTIVE_CONVO: email has been accepted and a conversation has been started
- SCHEDULING: a is being scheduled following a conversation
- DEMO_SET: a demo has been set
- DEMO_WON: a demo has been won
- DEMO_LOST: a demo has been lost

Revision ID: b7a98b640b68
Revises: 46bdde25829b
Create Date: 2023-01-16 11:54:25.628297

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql


# revision identifiers, used by Alembic.
revision = 'b7a98b640b68'
down_revision = '46bdde25829b'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###

    prospect_email_outreach_status = postgresql.ENUM('UNKNOWN', 'NOT_SENT', 'SENT_OUTREACH', 'EMAIL_OPENED', 'ACCEPTED', 'ACTIVE_CONVO', 'SCHEDULING', 'DEMO_SET', 'DEMO_WON', 'DEMO_LOST', name='prospectemailoutreachstatus')
    prospect_email_outreach_status.create(op.get_bind())

    op.add_column('prospect_email', sa.Column('outreach_status', sa.Enum('UNKNOWN', 'NOT_SENT', 'SENT_OUTREACH', 'EMAIL_OPENED', 'ACCEPTED', 'ACTIVE_CONVO', 'SCHEDULING', 'DEMO_SET', 'DEMO_WON', 'DEMO_LOST', name='prospectemailoutreachstatus'), nullable=True))
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('prospect_email', 'outreach_status')
    # ### end Alembic commands ###

    prospect_email_outreach_status = postgresql.ENUM('UNKNOWN', 'NOT_SENT', 'SENT_OUTREACH', 'EMAIL_OPENED', 'ACCEPTED', 'ACTIVE_CONVO', 'SCHEDULING', 'DEMO_SET', 'DEMO_WON', 'DEMO_LOST', name='prospectemailoutreachstatus')
    prospect_email_outreach_status.drop(op.get_bind())
