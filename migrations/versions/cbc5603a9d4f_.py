"""empty message

Revision ID: cbc5603a9d4f
Revises: 
Create Date: 2022-10-06 14:58:14.932671

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = "cbc5603a9d4f"
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table(
        "client",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column("company", sa.String(), nullable=True),
        sa.Column("contact_name", sa.String(), nullable=True),
        sa.Column("contact_email", sa.String(), nullable=True),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "echo",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.PrimaryKeyConstraint("id"),
    )
    
    op.create_table(
        "generated_message",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column("research_points", sa.ARRAY(sa.Integer()), nullable=False),
        sa.Column("prompt", sa.String(), nullable=False),
        sa.Column("completion", sa.String(), nullable=False),
        sa.Column(
            "message_status",
            sa.Enum(
                "DRAFT", "BLOCKED", "APPROVED", "SENT", name="generatedmessagestatus"
            ),
            nullable=False,
        ),
        sa.Column("date_sent", sa.DateTime(), nullable=True),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "client_archetype",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column("client_id", sa.Integer(), nullable=True),
        sa.Column("archetype", sa.String(), nullable=True),
        sa.Column("filters", sa.JSON(), nullable=True),
        sa.ForeignKeyConstraint(
            ["client_id"],
            ["client.id"],
        ),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "prospect",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column("client_id", sa.Integer(), nullable=True),
        sa.Column("archetype_id", sa.Integer(), nullable=True),
        sa.Column("company", sa.String(), nullable=True),
        sa.Column("company_url", sa.String(), nullable=True),
        sa.Column("employee_count", sa.String(), nullable=True),
        sa.Column("full_name", sa.String(), nullable=True),
        sa.Column("industry", sa.String(), nullable=True),
        sa.Column("linkedin_url", sa.String(), nullable=True),
        sa.Column("linkedin_bio", sa.String(), nullable=True),
        sa.Column("title", sa.String(), nullable=True),
        sa.Column("twitter_url", sa.String(), nullable=True),
        sa.Column("batch", sa.String(), nullable=True),
        sa.Column(
            "status",
            sa.Enum(
                "PROSPECTED",
                "NOT_QUALIFIED",
                "SENT_OUTREACH",
                "RESPONDED",
                "NOT_INTERESTED",
                "DEMO_SET",
                "DEMO_WON",
                "DEMO_LOSS",
                name="prospectstatus",
            ),
            nullable=True,
        ),
        sa.Column("approved_outreach_message_id", sa.Integer(), nullable=True),
        sa.ForeignKeyConstraint(
            ["approved_outreach_message_id"],
            ["generated_message.id"],
        ),
        sa.ForeignKeyConstraint(
            ["archetype_id"],
            ["client_archetype.id"],
        ),
        sa.ForeignKeyConstraint(
            ["client_id"],
            ["client.id"],
        ),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "research_payload",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column("prospect_id", sa.Integer(), nullable=True),
        sa.Column(
            "research_type",
            sa.Enum("LINKEDIN_ISCRAPER", name="researchtype"),
            nullable=False,
        ),
        sa.Column("payload", sa.JSON(), nullable=False),
        sa.ForeignKeyConstraint(
            ["prospect_id"],
            ["prospect.id"],
        ),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "gnlp_models",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column(
            "model_provider",
            sa.Enum("OPENAI_GPT3", name="modelprovider"),
            nullable=False,
        ),
        sa.Column(
            "model_type",
            sa.Enum("TRANSFORMER", "OUTREACH", name="gnlpmodeltype"),
            nullable=False,
        ),
        sa.Column("model_description", sa.String(), nullable=False),
        sa.Column("model_uuid", sa.String(), nullable=False),
        sa.Column("archetype_id", sa.Integer(), nullable=True),
        sa.ForeignKeyConstraint(
            ["archetype_id"],
            ["client_archetype.id"],
        ),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "research_point",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column("research_payload_id", sa.Integer(), nullable=True),
        sa.Column(
            "research_point_type",
            sa.Enum(
                "EXPERIENCE",
                "CURRENT_JOB_DESCRIPTION",
                "CURRENT_JOB_SPECIALTIES",
                "CURRENT_EXPERIENCE_DESCRIPTION",
                "YEARS_OF_EXPERIENCE",
                "YEARS_OF_EXPERIENCE_AT_CURRENT_JOB",
                "CURRENT_JOB",
                "LIST_OF_PAST_JOBS",
                "RECENT_PATENTS",
                "RECENT_RECOMMENDATIONS",
                "PROJECT",
                "RECOMMENDATION",
                name="researchpointtype",
            ),
            nullable=False,
        ),
        sa.Column("value", sa.String(), nullable=False),
        sa.ForeignKeyConstraint(
            ["research_payload_id"],
            ["research_payload.id"],
        ),
        sa.PrimaryKeyConstraint("id"),
    )
    op.create_table(
        "gnlp_models_fine_tune_jobs",
        sa.Column("created_at", sa.DateTime(), nullable=True),
        sa.Column("updated_at", sa.DateTime(), nullable=True),
        sa.Column("id", sa.Integer(), nullable=False),
        sa.Column(
            "status",
            sa.Enum(
                "INITIATED",
                "UPLOADED_JSONL_FILE",
                "STARTED_FINE_TUNE_JOB",
                "FAILED",
                "COMPLETED",
                name="gnlpfinetunejobstatuses",
            ),
            nullable=False,
        ),
        sa.Column("archetype_id", sa.Integer(), nullable=False),
        sa.Column("message_ids", sa.ARRAY(sa.Integer()), nullable=False),
        sa.Column(
            "model_type",
            sa.Enum("TRANSFORMER", "OUTREACH", name="gnlpmodeltype"),
            nullable=False,
        ),
        sa.Column("jsonl_file_id", sa.String(), nullable=True),
        sa.Column("jsonl_file_response", sa.JSON(), nullable=True),
        sa.Column("finetune_job_id", sa.String(), nullable=True),
        sa.Column("finetune_job_response", sa.JSON(), nullable=True),
        sa.Column("gnlp_model_id", sa.Integer(), nullable=True),
        sa.Column("error", sa.String(), nullable=True),
        sa.ForeignKeyConstraint(
            ["archetype_id"],
            ["client_archetype.id"],
        ),
        sa.ForeignKeyConstraint(
            ["gnlp_model_id"],
            ["gnlp_models.id"],
        ),
        sa.PrimaryKeyConstraint("id"),
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table("gnlp_models_fine_tune_jobs")
    op.drop_table("research_point")
    op.drop_table("gnlp_models")
    op.drop_table("research_payload")
    op.drop_table("client_archetype")
    op.drop_table("prospect")
    op.drop_table("generated_message")
    op.drop_table("echo")
    op.drop_table("client")
    # ### end Alembic commands ###
